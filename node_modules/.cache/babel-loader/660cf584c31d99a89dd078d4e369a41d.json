{"ast":null,"code":"import _slicedToArray from\"/home/dell/Downloads/final/ass1/frontend/sapotaweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import axios from\"axios\";import Grid from\"@mui/material/Grid\";import Alert from\"@mui/material/Alert\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import{useNavigate}from\"react-router-dom\";// import { useNavigate } from \"react-router-dom\";\nimport AppBar from\"@mui/material/AppBar\";import Box from\"@mui/material/Box\";import Toolbar from\"@mui/material/Toolbar\";// import Button from \"@mui/material/Button\";\nimport Typography from\"@mui/material/Typography\";// \n//const [dum, setDum] = useState(\"0\");\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){//const [managername, setmName] = useState(\"\");\n//const [shopname, setsName] = useState(\"\");\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];//const [age,setAge] = useState(\"\");\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),dumm=_useState6[0],setDumm=_useState6[1];// var dad=0;\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),dum=_useState8[0],setDum=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),users=_useState10[0],setUsers=_useState10[1];//setDumm(10)\nvar s=0;var p=0;//   const onChangemname = (event) => {\n//     setmName(event.target.value);\n//   };\nvar navigate=useNavigate();//   const onChangesName = (event) => {\n//     setsName(event.target.value);\n//   };\nvar onChangeEmail=function onChangeEmail(event){setEmail(event.target.value);};var onChangepassword=function onChangepassword(event){setPassword(event.target.value);};var resetInputs=function resetInputs(){// setmName(\"\");\n// setsName(\"\");\nsetEmail(\"\");setPassword(\"\");};var onSubmit=function onSubmit(event){event.preventDefault();var newUser={//managername: managername,\n//shopname: shopname,\nemail:email,password:password};//   function sath() {\n//     setDum(0);\n//  }\n// let one = \"https://sapota.herokuapp.com/user/login/buyer\"\n// let two = \"https://sapota.herokuapp.com/user/login/vendor\"\n// const requestOne = axios.get(one);\n// const requestTwo = axios.get(two);\n// axios.all([requestOne, requestTwo]).then(axios.spread((...responses) => {\n//   const responseOne = responses[0]\n//   const responseTwo = responses[1]\n//   // use/access the results \n// })).catch(errors => {\n//   //console.log(responseOne);\n//   // react on errors.\n// })\n// axios.all([ssss\n//   axios.post(\"https://sapota.herokuapp.com/user/login/buyer\", newUser),\n//  // axios.post(\"https://sapota.herokuapp.com/user/login/vendor\", newUser)\n// ])\n// .then((response) => {\n//       alert(\"Created\\t\");\n//       console.log(\"logged in\");\n//     });\n// .then(axios.spread((obj1, obj2) => {\n//   // Both requests are now complete\n//   console.log(obj1.data.login + ' has ' + obj1.data.public_repos + ' public repos on GitHub');\n//   console.log(obj2.data.login + ' has ' + obj2.data.public_repos + ' public repos on GitHub');\n// }));\n// .then((response) => {ss\n//   // output of req.\n//   alert(\"Created\");\n//   console.log(response.data);\n// });\n//   setDum(5)\n//   function sath() {\n//     setDum(0);\n//  }\n//setDum(5);\n// let s = 0;\n// axios\n//   .post(\"https://sapota.herokuapp.com/user/login/buyer\", newUser)\n//   .then((response) => {\n//     //alert(\"Created\\t\" + response.data.name);\n//     //console.log(response.data);\n//     setDumm(4)\n//     p = 1;\n//     if (response.data === 1) {\n//       //navigate(\"/login/buyer\");\n//       //setDum(3);\n//       //p=1;\n//       setUsers(response.data);\n//       s = 1;\n//       //email=response.data.email;\n//       localStorage.setItem(\"email\", email);\n//       alert(\"taking into  buyer page\");\n//       //p=1;\n//       navigate(\"/login/buyer\");\n//       // setDum(3);\n//       //dad=1;\n//     }\n//     // if(!response.data)\n//     // {\n//     //   alert(\"not in\")\n//     // }\n//     // else\n//     // {\n//     //   alert(\"no\")\n//     // }\n//   });\n// if (s !== 1) {\naxios.post(\"https://sapota.herokuapp.com/user/login/vendor\",newUser).then(function(res){//alert(\"Created\\t\" + response.data.name);\n//console.log(response.data);\n//setDum(3)\n// s = 1;\nif(res.data===3){alert(\"provide all details\");}else if(res.data===2){//navigate(\"/login/vendor\");\n//setDum(4);\n//s=1;\nlocalStorage.setItem(\"email\",email);alert(\"going into vendor page\");//s=1;\nnavigate(\"/login/vendor\");//dad=2;\nsetDumm(4);}else if(res.data===1){localStorage.setItem(\"email\",email);alert(\"going into buyer page\");//s=1;\nnavigate(\"/login/buyer\");//dad=2;\n}else if(res.data===0){alert(\"not registered\");}// else if (res.data === 3) {\n//   alert(\"not registered\")\n// }\n});// }\n// if(dum===5)\n// {\n//   alert(\"no\")\n// }\n};//resetInputs();\nreturn/*#__PURE__*/_jsxs(Grid,{container:true,align:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},style:{margin:\" 0% 0% 0% 0% \"},children:/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{cursor:\"pointer\"},onClick:function onClick(){return navigate(\"/\");},children:\"Canteen Portal\"}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:function onClick(){return navigate(\"/login\");},children:\"login\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:function onClick(){return navigate(\"/register\");},children:\"Register\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:function onClick(){return navigate(\"/profile\");},children:\"My Profile\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Email\",variant:\"outlined\",value:email,onChange:onChangeEmail})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{type:\"password\",label:\"password\",variant:\"outlined\",value:password,onChange:onChangepassword})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:onSubmit,children:\"login\"})})]});};export default Login;","map":{"version":3,"sources":["/home/dell/Downloads/final/ass1/frontend/sapotaweb/src/components/common/Login.js"],"names":["useState","axios","Grid","Alert","TextField","Button","useNavigate","AppBar","Box","Toolbar","Typography","Login","props","email","setEmail","password","setPassword","dumm","setDumm","dum","setDum","users","setUsers","s","p","navigate","onChangeEmail","event","target","value","onChangepassword","resetInputs","onSubmit","preventDefault","newUser","post","then","res","data","alert","localStorage","setItem","flexGrow","margin","cursor"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport Grid from \"@mui/material/Grid\";\nimport Alert from \"@mui/material/Alert\"\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport { useNavigate } from \"react-router-dom\";\n// import { useNavigate } from \"react-router-dom\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\n// import Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\n// \n\n//const [dum, setDum] = useState(\"0\");\n\nconst Login = (props) => {\n  //const [managername, setmName] = useState(\"\");\n  //const [shopname, setsName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  //const [age,setAge] = useState(\"\");\n  const [dumm, setDumm] = useState(0);\n  // var dad=0;\n  const [dum, setDum] = useState(0);\n  const [users, setUsers] = useState([]);\n  //setDumm(10)\n\n  var s = 0;\n  var p = 0;\n\n  //   const onChangemname = (event) => {\n  //     setmName(event.target.value);\n  //   };\n\n  const navigate = useNavigate();\n  //   const onChangesName = (event) => {\n  //     setsName(event.target.value);\n  //   };\n  const onChangeEmail = (event) => {\n    setEmail(event.target.value);\n  };\n  const onChangepassword = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const resetInputs = () => {\n    // setmName(\"\");\n    // setsName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n\n    const newUser = {\n      //managername: managername,\n      //shopname: shopname,\n      email: email,\n      password: password,\n\n    };\n    //   function sath() {\n    //     setDum(0);\n    //  }\n\n\n\n    // let one = \"https://sapota.herokuapp.com/user/login/buyer\"\n    // let two = \"https://sapota.herokuapp.com/user/login/vendor\"\n\n\n    // const requestOne = axios.get(one);\n    // const requestTwo = axios.get(two);\n\n\n    // axios.all([requestOne, requestTwo]).then(axios.spread((...responses) => {\n    //   const responseOne = responses[0]\n    //   const responseTwo = responses[1]\n\n    //   // use/access the results \n    // })).catch(errors => {\n\n    //   //console.log(responseOne);\n    //   // react on errors.\n    // })\n    // axios.all([ssss\n    //   axios.post(\"https://sapota.herokuapp.com/user/login/buyer\", newUser),\n    //  // axios.post(\"https://sapota.herokuapp.com/user/login/vendor\", newUser)\n    // ])\n    // .then((response) => {\n    //       alert(\"Created\\t\");\n    //       console.log(\"logged in\");\n    //     });\n\n\n    // .then(axios.spread((obj1, obj2) => {\n    //   // Both requests are now complete\n    //   console.log(obj1.data.login + ' has ' + obj1.data.public_repos + ' public repos on GitHub');\n    //   console.log(obj2.data.login + ' has ' + obj2.data.public_repos + ' public repos on GitHub');\n    // }));\n\n    // .then((response) => {ss\n    //   // output of req.\n    //   alert(\"Created\");\n    //   console.log(response.data);\n    // });\n    //   setDum(5)\n    //   function sath() {\n    //     setDum(0);\n    //  }\n    //setDum(5);\n    // let s = 0;\n    // axios\n    //   .post(\"https://sapota.herokuapp.com/user/login/buyer\", newUser)\n    //   .then((response) => {\n    //     //alert(\"Created\\t\" + response.data.name);\n    //     //console.log(response.data);\n    //     setDumm(4)\n    //     p = 1;\n    //     if (response.data === 1) {\n\n    //       //navigate(\"/login/buyer\");\n    //       //setDum(3);\n    //       //p=1;\n    //       setUsers(response.data);\n    //       s = 1;\n    //       //email=response.data.email;\n    //       localStorage.setItem(\"email\", email);\n    //       alert(\"taking into  buyer page\");\n    //       //p=1;\n    //       navigate(\"/login/buyer\");\n    //       // setDum(3);\n    //       //dad=1;\n    //     }\n        \n    //     // if(!response.data)\n    //     // {\n    //     //   alert(\"not in\")\n    //     // }\n    //     // else\n    //     // {\n    //     //   alert(\"no\")\n    //     // }\n\n\n\n\n\n\n    //   });\n    // if (s !== 1) {\n\n    axios\n      .post(\"https://sapota.herokuapp.com/user/login/vendor\", newUser)\n      .then((res) => {\n        //alert(\"Created\\t\" + response.data.name);\n        //console.log(response.data);\n        //setDum(3)\n        // s = 1;\n        if(res.data===3)\n        {\n          alert(\"provide all details\");\n        }\n        else if (res.data === 2) {\n          //navigate(\"/login/vendor\");\n          //setDum(4);\n          //s=1;\n\n          localStorage.setItem(\"email\", email);\n          alert(\"going into vendor page\");\n          //s=1;\n          navigate(\"/login/vendor\");\n          //dad=2;\n          setDumm(4);\n        }\n        else if(res.data===1)\n        {\n          localStorage.setItem(\"email\", email);\n          alert(\"going into buyer page\");\n          //s=1;\n          navigate(\"/login/buyer\");\n          //dad=2;\n        }\n        else if(res.data===0)\n        {\n          alert(\"not registered\");\n        }\n        // else if (res.data === 3) {\n        //   alert(\"not registered\")\n        // }\n\n\n\n\n\n\n      });\n    // }\n\n    // if(dum===5)\n    // {\n    //   alert(\"no\")\n    // }\n\n\n\n\n\n\n\n  };\n\n  //resetInputs();\n\n\n  return (\n    <Grid container align={\"center\"} spacing={2}>\n\n      <Box sx={{ flexGrow: 1 }} style={{ margin: \" 0% 0% 0% 0% \" }}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Typography\n              variant=\"h6\"\n              component=\"div\"\n              sx={{ cursor: \"pointer\" }}\n              onClick={() => navigate(\"/\")}\n            >\n              Canteen Portal\n            </Typography>\n            <Box sx={{ flexGrow: 1 }} />\n            <Button color=\"inherit\" onClick={() => navigate(\"/login\")}>\n              login\n            </Button>\n            <Button color=\"inherit\" onClick={() => navigate(\"/register\")}>\n              Register\n            </Button>\n            <Button color=\"inherit\" onClick={() => navigate(\"/profile\")}>\n              My Profile\n            </Button>\n          </Toolbar>\n        </AppBar>\n      </Box>\n      <Grid item xs={12}>\n        <TextField\n          label=\"Email\"\n          variant=\"outlined\"\n          value={email}\n          onChange={onChangeEmail}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <TextField\n          type=\"password\"\n          label=\"password\"\n          variant=\"outlined\"\n          value={password}\n          onChange={onChangepassword}\n        />\n      </Grid>\n\n\n      {/* {dum === 3 && navigate(\"/login/buyer\")}\n      {dum === 4 && navigate(\"/login/vendor\")} */}\n\n\n      <Grid item xs={12}>\n        <Button variant=\"contained\" onClick={onSubmit}>\n          login\n        </Button>\n      </Grid>\n\n\n\n\n\n\n    </Grid>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}